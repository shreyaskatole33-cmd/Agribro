import React, { useState } from 'react';
import { Send, Bot, User, Leaf, AlertTriangle, Cloud, Bug, Globe } from 'lucide-react';

interface Message {
  id: string;
  type: 'user' | 'ai';
  content: string;
  timestamp: string;
}

type Language = 'hindi' | 'english' | 'both';

const AIAdvisor: React.FC = () => {
  const [language, setLanguage] = useState<Language>('both');
  const [messages, setMessages] = useState<Message[]>([
    {
      id: '1',
      type: 'ai',
      content: 'рдирдорд╕реНрддреЗ! рдореИрдВ рдЖрдкрдХрд╛ AI рдХреГрд╖рд┐ рд╕рд▓рд╛рд╣рдХрд╛рд░ рд╣реВрдВред рдореИрдВ рдЖрдкрдХреА рдлрд╕рд▓реЛрдВ, рдмреАрдорд╛рд░рд┐рдпреЛрдВ, рдореМрд╕рдо рдФрд░ рдЦреЗрддреА рдХреА рддрдХрдиреАрдХреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕рд╡рд╛рд▓реЛрдВ рдХрд╛ рдЬрд╡рд╛рдм рджреЗ рд╕рдХрддрд╛ рд╣реВрдВред рдЖрдк рдореБрдЭрд╕реЗ рд╣рд┐рдВрджреА рдпрд╛ рдЕрдВрдЧреНрд░реЗрдЬреА рдореЗрдВ рд╕рд╡рд╛рд▓ рдкреВрдЫ рд╕рдХрддреЗ рд╣реИрдВред\n\nHello! I am your AI Agriculture Advisor. I can answer your questions about crops, diseases, weather, and farming techniques. You can ask me questions in Hindi or English.',
      timestamp: new Date().toISOString()
    }
  ]);
  const [inputMessage, setInputMessage] = useState('');
  const [isTyping, setIsTyping] = useState(false);

  const quickQuestions = [
    { 
      icon: Bug, 
      text: 'Wheat crop disease identification',
      textHindi: 'рдЧреЗрд╣реВрдВ рдХреА рдлрд╕рд▓ рдореЗрдВ рдмреАрдорд╛рд░реА рдХреА рдкрд╣рдЪрд╛рди',
      category: 'disease' 
    },
    { 
      icon: Cloud, 
      text: 'Weather alerts for farming',
      textHindi: 'рдЦреЗрддреА рдХреЗ рд▓рд┐рдП рдореМрд╕рдо рдХреА рдЪреЗрддрд╛рд╡рдиреА',
      category: 'weather' 
    },
    { 
      icon: Leaf, 
      text: 'Best fertilizer for rice',
      textHindi: 'рдзрд╛рди рдХреЗ рд▓рд┐рдП рд╕рд░реНрд╡реЛрддреНрддрдо рдЙрд░реНрд╡рд░рдХ',
      category: 'fertilizer' 
    },
    { 
      icon: AlertTriangle, 
      text: 'Pest control solutions',
      textHindi: 'рдХреАрдЯ рдирд┐рдпрдВрддреНрд░рдг рдХреЗ рд╕рдорд╛рдзрд╛рди',
      category: 'pest' 
    }
  ];

  const getAIResponse = (question: string): string => {
    const lowerQuestion = question.toLowerCase();
    
    if (lowerQuestion.includes('wheat') || lowerQuestion.includes('рдЧреЗрд╣реВрдВ')) {
      if (language === 'hindi') {
        return `ЁЯМ╛ рдЧреЗрд╣реВрдВ рдХреА рдлрд╕рд▓ рдХреЗ рд▓рд┐рдП рд╕реБрдЭрд╛рд╡:

тАв рдмреБрдЖрдИ рдХрд╛ рд╕рд╣реА рд╕рдордп: рдирд╡рдВрдмрд░-рджрд┐рд╕рдВрдмрд░
тАв рд╕рд┐рдВрдЪрд╛рдИ: CRI, tillering, рдФрд░ grain filling stages рдкрд░
тАв рдЙрд░реНрд╡рд░рдХ: 120 kg N, 60 kg P2O5, 40 kg K2O рдкреНрд░рддрд┐ рд╣реЗрдХреНрдЯреЗрдпрд░
тАв рдореБрдЦреНрдп рдмреАрдорд╛рд░рд┐рдпрд╛рдВ: Rust, smut, рдФрд░ karnal bunt
тАв рд░реЛрдХрдерд╛рдо: рдкреНрд░рдорд╛рдгрд┐рдд рдмреАрдЬ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ

рдХреЛрдИ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕рдорд╕реНрдпрд╛ рд╣реИ?`;
      } else if (language === 'english') {
        return `ЁЯМ╛ Wheat Crop Recommendations:

тАв Sowing time: November-December
тАв Irrigation: At CRI, tillering, and grain filling stages
тАв Fertilizer: 120 kg N, 60 kg P2O5, 40 kg K2O per hectare
тАв Main diseases: Rust, smut, and karnal bunt
тАв Prevention: Use certified seeds

Any specific problem?`;
      } else {
        return `ЁЯМ╛ рдЧреЗрд╣реВрдВ рдХреА рдлрд╕рд▓ рдХреЗ рд▓рд┐рдП рд╕реБрдЭрд╛рд╡ / Wheat Crop Recommendations:

ЁЯЗоЁЯЗ│ рд╣рд┐рдВрджреА рдореЗрдВ:
тАв рдмреБрдЖрдИ рдХрд╛ рд╕рд╣реА рд╕рдордп: рдирд╡рдВрдмрд░-рджрд┐рд╕рдВрдмрд░
тАв рд╕рд┐рдВрдЪрд╛рдИ: CRI, tillering, рдФрд░ grain filling stages рдкрд░
тАв рдЙрд░реНрд╡рд░рдХ: 120 kg N, 60 kg P2O5, 40 kg K2O рдкреНрд░рддрд┐ рд╣реЗрдХреНрдЯреЗрдпрд░
тАв рдореБрдЦреНрдп рдмреАрдорд╛рд░рд┐рдпрд╛рдВ: Rust, smut, рдФрд░ karnal bunt
тАв рд░реЛрдХрдерд╛рдо: рдкреНрд░рдорд╛рдгрд┐рдд рдмреАрдЬ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ

ЁЯЗ║ЁЯЗ╕ In English:
тАв Sowing time: November-December
тАв Irrigation: At CRI, tillering, and grain filling stages
тАв Fertilizer: 120 kg N, 60 kg P2O5, 40 kg K2O per hectare
тАв Main diseases: Rust, smut, and karnal bunt
тАв Prevention: Use certified seeds

рдХреЛрдИ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕рдорд╕реНрдпрд╛ рд╣реИ? / Any specific problem?`;
      }
    }
    
    if (lowerQuestion.includes('rice') || lowerQuestion.includes('рдзрд╛рди')) {
      if (language === 'hindi') {
        return `ЁЯМ╛ рдзрд╛рди рдХреА рдЦреЗрддреА рдХреЗ рд▓рд┐рдП рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрд╛рддреЗрдВ:

тАв рд░реЛрдкрд╛рдИ: рдЬреВрди-рдЬреБрд▓рд╛рдИ рдореЗрдВ рдХрд░реЗрдВ
тАв рдкрд╛рдиреА рдХрд╛ рдкреНрд░рдмрдВрдзрди: 5 cm рдЦрдбрд╝рд╛ рдкрд╛рдиреА рдмрдирд╛рдП рд░рдЦреЗрдВ
тАв рдЙрд░реНрд╡рд░рдХ: 100 kg N, 50 kg P, 50 kg K рдкреНрд░рддрд┐ рд╣реЗрдХреНрдЯреЗрдпрд░
тАв рдореБрдЦреНрдп рдХреАрдЯ: Stem borer, leaf folder
тАв рдмреАрдорд╛рд░рд┐рдпрд╛рдВ: Blast, sheath blight
тАв рд╕рдорд╛рдзрд╛рди: IPM approach рдЕрдкрдирд╛рдПрдВ

рдФрд░ рдХреБрдЫ рдЬрд╛рдирдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ?`;
      } else if (language === 'english') {
        return `ЁЯМ╛ Rice Cultivation Guide:

тАв Transplanting: June-July
тАв Water management: Maintain 5 cm standing water
тАв Fertilizer: 100 kg N, 50 kg P, 50 kg K per hectare
тАв Main pests: Stem borer, leaf folder
тАв Diseases: Blast, sheath blight
тАв Solution: Adopt IPM approach

Need to know anything else?`;
      } else {
        return `ЁЯМ╛ рдзрд╛рди рдХреА рдЦреЗрддреА рдХреЗ рд▓рд┐рдП рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрд╛рддреЗрдВ / Rice Cultivation Guide:

ЁЯЗоЁЯЗ│ рд╣рд┐рдВрджреА рдореЗрдВ:
тАв рд░реЛрдкрд╛рдИ: рдЬреВрди-рдЬреБрд▓рд╛рдИ рдореЗрдВ рдХрд░реЗрдВ
тАв рдкрд╛рдиреА рдХрд╛ рдкреНрд░рдмрдВрдзрди: 5 cm рдЦрдбрд╝рд╛ рдкрд╛рдиреА рдмрдирд╛рдП рд░рдЦреЗрдВ
тАв рдЙрд░реНрд╡рд░рдХ: 100 kg N, 50 kg P, 50 kg K рдкреНрд░рддрд┐ рд╣реЗрдХреНрдЯреЗрдпрд░
тАв рдореБрдЦреНрдп рдХреАрдЯ: Stem borer, leaf folder
тАв рдмреАрдорд╛рд░рд┐рдпрд╛рдВ: Blast, sheath blight
тАв рд╕рдорд╛рдзрд╛рди: IPM approach рдЕрдкрдирд╛рдПрдВ

ЁЯЗ║ЁЯЗ╕ In English:
тАв Transplanting: June-July
тАв Water management: Maintain 5 cm standing water
тАв Fertilizer: 100 kg N, 50 kg P, 50 kg K per hectare
тАв Main pests: Stem borer, leaf folder
тАв Diseases: Blast, sheath blight
тАв Solution: Adopt IPM approach

рдФрд░ рдХреБрдЫ рдЬрд╛рдирдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ? / Need to know anything else?`;
      }
    }
    
    if (lowerQuestion.includes('disease') || lowerQuestion.includes('рдмреАрдорд╛рд░реА')) {
      if (language === 'hindi') {
        return `ЁЯФН рдлрд╕рд▓ рдХреА рдмреАрдорд╛рд░рд┐рдпреЛрдВ рдХреА рдкрд╣рдЪрд╛рди рдФрд░ рд░реЛрдХрдерд╛рдо:

рд╕рд╛рдорд╛рдиреНрдп рд▓рдХреНрд╖рдг:
тАв рдкрддреНрддрд┐рдпреЛрдВ рдкрд░ рдзрдмреНрдмреЗ
тАв рдкреАрд▓рд╛рдкрди рдпрд╛ рдореБрд░рдЭрд╛рдирд╛
тАв рдлрд▓/рджрд╛рдиреЗ рдореЗрдВ рд╕рдбрд╝рди

рд░реЛрдХрдерд╛рдо:
тАв рдлрд╕рд▓ рдЪрдХреНрд░ рдЕрдкрдирд╛рдПрдВ
тАв рдкреНрд░рдорд╛рдгрд┐рдд рдмреАрдЬ рдХрд╛ рдЙрдкрдпреЛрдЧ
тАв рдЦреЗрдд рдХреА рд╕рдлрд╛рдИ рд░рдЦреЗрдВ
тАв рдЙрдЪрд┐рдд рдЬрд▓ рдирд┐рдХрд╛рд╕

рдХреГрдкрдпрд╛ рдЕрдкрдиреА рдлрд╕рд▓ рдХреА рддрд╕реНрд╡реАрд░ рднреЗрдЬреЗрдВ рдпрд╛ рд▓рдХреНрд╖рдгреЛрдВ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рдмрддрд╛рдПрдВред`;
      } else if (language === 'english') {
        return `ЁЯФН Crop Disease Identification & Prevention:

Common Symptoms:
тАв Spots on leaves
тАв Yellowing or wilting
тАв Rot in fruits/grains

Prevention:
тАв Maintain crop rotation
тАв Use certified seeds
тАв Keep field clean
тАв Ensure proper drainage

Please send a photo of your crop or describe symptoms in detail.`;
      } else {
        return `ЁЯФН рдлрд╕рд▓ рдХреА рдмреАрдорд╛рд░рд┐рдпреЛрдВ рдХреА рдкрд╣рдЪрд╛рди рдФрд░ рд░реЛрдХрдерд╛рдо / Crop Disease Identification & Prevention:

ЁЯЗоЁЯЗ│ рд╣рд┐рдВрджреА рдореЗрдВ:
рд╕рд╛рдорд╛рдиреНрдп рд▓рдХреНрд╖рдг / Common Symptoms:
тАв рдкрддреНрддрд┐рдпреЛрдВ рдкрд░ рдзрдмреНрдмреЗ / Spots on leaves
тАв рдкреАрд▓рд╛рдкрди рдпрд╛ рдореБрд░рдЭрд╛рдирд╛ / Yellowing or wilting
тАв рдлрд▓/рджрд╛рдиреЗ рдореЗрдВ рд╕рдбрд╝рди / Rot in fruits/grains

рд░реЛрдХрдерд╛рдо / Prevention:
тАв рдлрд╕рд▓ рдЪрдХреНрд░ рдЕрдкрдирд╛рдПрдВ / Adopt crop rotation
тАв рдкреНрд░рдорд╛рдгрд┐рдд рдмреАрдЬ рдХрд╛ рдЙрдкрдпреЛрдЧ / Use certified seeds
тАв рдЦреЗрдд рдХреА рд╕рдлрд╛рдИ рд░рдЦреЗрдВ / Keep field clean
тАв рдЙрдЪрд┐рдд рдЬрд▓ рдирд┐рдХрд╛рд╕ / Proper drainage

ЁЯЗ║ЁЯЗ╕ In English:
тАв Maintain crop rotation
тАв Use certified seeds
тАв Keep field clean
тАв Ensure proper drainage

рдХреГрдкрдпрд╛ рдЕрдкрдиреА рдлрд╕рд▓ рдХреА рддрд╕реНрд╡реАрд░ рднреЗрдЬреЗрдВ рдпрд╛ рд▓рдХреНрд╖рдгреЛрдВ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рдмрддрд╛рдПрдВред
Please send a photo of your crop or describe symptoms in detail.`;
      }
    }
    
    if (lowerQuestion.includes('weather') || lowerQuestion.includes('рдореМрд╕рдо')) {
      if (language === 'hindi') {
        return `ЁЯМдя╕П рдореМрд╕рдо рдХреА рдЬрд╛рдирдХрд╛рд░реА рдФрд░ рдЦреЗрддреА:

тАв рдЖрдЬ: 25┬░C, рд╣рд▓реНрдХреА рдмрд╛рд░рд┐рд╢ рдХреА рд╕рдВрднрд╛рд╡рдирд╛
тАв рдХрд▓: 28┬░C, рдзреВрдк рд░рд╣реЗрдЧреА
тАв рд╕рдкреНрддрд╛рд╣ рднрд░: рд╕рд╛рдорд╛рдиреНрдп рддрд╛рдкрдорд╛рди 22-30┬░C

рд╕реБрдЭрд╛рд╡:
тАв рдмрд╛рд░рд┐рд╢ рд╕реЗ рдкрд╣рд▓реЗ рд╕реНрдкреНрд░реЗ рди рдХрд░реЗрдВ
тАв рд╕рд┐рдВрдЪрд╛рдИ рдХрд╛ рд╕рдордп рдмрджрд▓реЗрдВ
тАв рдлрд╕рд▓ рдХреА рдХрдЯрд╛рдИ рддреЗрдЬрд╝ рдХрд░реЗрдВ

рдореМрд╕рдо рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдХрд╛рдо рдХреА рдпреЛрдЬрдирд╛ рдмрдирд╛рдПрдВред`;
      } else if (language === 'english') {
        return `ЁЯМдя╕П Weather Information & Farming:

тАв Today: 25┬░C, chance of light rain
тАв Tomorrow: 28┬░C, sunny weather
тАв Week ahead: Normal temperature 22-30┬░C

Suggestions:
тАв Don't spray before rain
тАв Adjust irrigation timing
тАв Speed up crop harvesting

Plan work according to weather.`;
      } else {
        return `ЁЯМдя╕П рдореМрд╕рдо рдХреА рдЬрд╛рдирдХрд╛рд░реА рдФрд░ рдЦреЗрддреА / Weather Information & Farming:

ЁЯЗоЁЯЗ│ рд╣рд┐рдВрджреА рдореЗрдВ:
тАв рдЖрдЬ: 25┬░C, рд╣рд▓реНрдХреА рдмрд╛рд░рд┐рд╢ рдХреА рд╕рдВрднрд╛рд╡рдирд╛
тАв рдХрд▓: 28┬░C, рдзреВрдк рд░рд╣реЗрдЧреА
тАв рд╕рдкреНрддрд╛рд╣ рднрд░: рд╕рд╛рдорд╛рдиреНрдп рддрд╛рдкрдорд╛рди 22-30┬░C

рд╕реБрдЭрд╛рд╡ / Suggestions:
тАв рдмрд╛рд░рд┐рд╢ рд╕реЗ рдкрд╣рд▓реЗ рд╕реНрдкреНрд░реЗ рди рдХрд░реЗрдВ / Don't spray before rain
тАв рд╕рд┐рдВрдЪрд╛рдИ рдХрд╛ рд╕рдордп рдмрджрд▓реЗрдВ / Adjust irrigation timing
тАв рдлрд╕рд▓ рдХреА рдХрдЯрд╛рдИ рддреЗрдЬрд╝ рдХрд░реЗрдВ / Speed up crop harvesting

ЁЯЗ║ЁЯЗ╕ In English:
тАв Today: 25┬░C, chance of light rain
тАв Tomorrow: 28┬░C, sunny weather
тАв Week ahead: Normal temperature 22-30┬░C

рдореМрд╕рдо рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдХрд╛рдо рдХреА рдпреЛрдЬрдирд╛ рдмрдирд╛рдПрдВред
Plan work according to weather.`;
      }
    }
    
    if (lowerQuestion.includes('fertilizer') || lowerQuestion.includes('рдЦрд╛рдж')) {
      if (language === 'hindi') {
        return `ЁЯМ▒ рдЙрд░реНрд╡рд░рдХ рдХреА рдЬрд╛рдирдХрд╛рд░реА:

рдореБрдЦреНрдп рдкреЛрд╖рдХ рддрддреНрд╡:
тАв рдирд╛рдЗрдЯреНрд░реЛрдЬрди (N): рдкрддреНрддрд┐рдпреЛрдВ рдХреА рдмрдврд╝рд╡рд╛рд░
тАв рдлреЙрд╕реНрдлреЛрд░рд╕ (P): рдЬрдбрд╝реЛрдВ рдХрд╛ рд╡рд┐рдХрд╛рд╕
тАв рдкреЛрдЯрд╛рд╢ (K): рд░реЛрдЧ рдкреНрд░рддрд┐рд░реЛрдзрд╛

рд╕реБрдЭрд╛рд╡:
тАв рдорд┐рдЯреНрдЯреА рдХреА рдЬрд╛рдВрдЪ рдХрд░рд╛рдПрдВ
тАв рд╕реВрдХреНрд╖реНрдо рдкреЛрд╖рдХ рддрддреНрд╡ рднреА рджреЗрдВ
тАв рдЬреИрд╡рд┐рдХ рдЦрд╛рдж рдХрд╛ рдкреНрд░рдпреЛрдЧ рдХрд░реЗрдВ
тАв рд╕рд╣реА рд╕рдордп рдкрд░ рджреЗрдВ

рдХрд┐рд╕ рдлрд╕рд▓ рдХреЗ рд▓рд┐рдП рдЬрд╛рдирдХрд╛рд░реА рдЪрд╛рд╣рд┐рдП?`;
      } else if (language === 'english') {
        return `ЁЯМ▒ Fertilizer Information:

Main Nutrients:
тАв Nitrogen (N): Leaf growth
тАв Phosphorus (P): Root development
тАв Potassium (K): Disease resistance

Suggestions:
тАв Get soil tested
тАв Also provide micronutrients
тАв Use organic manure
тАв Apply at right time

Which crop information do you need?`;
      } else {
        return `ЁЯМ▒ рдЙрд░реНрд╡рд░рдХ рдХреА рдЬрд╛рдирдХрд╛рд░реА / Fertilizer Information:

ЁЯЗоЁЯЗ│ рд╣рд┐рдВрджреА рдореЗрдВ:
рдореБрдЦреНрдп рдкреЛрд╖рдХ рддрддреНрд╡ / Main Nutrients:
тАв рдирд╛рдЗрдЯреНрд░реЛрдЬрди (N): рдкрддреНрддрд┐рдпреЛрдВ рдХреА рдмрдврд╝рд╡рд╛рд░ / Leaf growth
тАв рдлреЙрд╕реНрдлреЛрд░рд╕ (P): рдЬрдбрд╝реЛрдВ рдХрд╛ рд╡рд┐рдХрд╛рд╕ / Root development
тАв рдкреЛрдЯрд╛рд╢ (K): рд░реЛрдЧ рдкреНрд░рддрд┐рд░реЛрдзрд╛ / Disease resistance

рд╕реБрдЭрд╛рд╡ / Suggestions:
тАв рдорд┐рдЯреНрдЯреА рдХреА рдЬрд╛рдВрдЪ рдХрд░рд╛рдПрдВ / Get soil tested
тАв рд╕реВрдХреНрд╖реНрдо рдкреЛрд╖рдХ рддрддреНрд╡ рднреА рджреЗрдВ / Also provide micronutrients
тАв рдЬреИрд╡рд┐рдХ рдЦрд╛рдж рдХрд╛ рдкреНрд░рдпреЛрдЧ рдХрд░реЗрдВ / Use organic manure
тАв рд╕рд╣реА рд╕рдордп рдкрд░ рджреЗрдВ / Apply at right time

ЁЯЗ║ЁЯЗ╕ In English:
тАв Nitrogen (N): Leaf growth
тАв Phosphorus (P): Root development
тАв Potassium (K): Disease resistance

рдХрд┐рд╕ рдлрд╕рд▓ рдХреЗ рд▓рд┐рдП рдЬрд╛рдирдХрд╛рд░реА рдЪрд╛рд╣рд┐рдП? / Which crop information do you need?`;
      }
    }
    
    if (language === 'hindi') {
      return `рдореИрдВ рдЖрдкрдХреА рдорджрдж рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдпрд╣рд╛рдВ рд╣реВрдВ!

рдХреГрдкрдпрд╛ рдЕрдкрдирд╛ рд╕рд╡рд╛рд▓ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рдкреВрдЫреЗрдВ:
тАв рдлрд╕рд▓ рдХрд╛ рдирд╛рдо
тАв рд╕рдорд╕реНрдпрд╛ рдХрд╛ рд╡рд┐рд╡рд░рдг
тАв рдЖрдкрдХрд╛ рдХреНрд╖реЗрддреНрд░
тАв рдлрд╕рд▓ рдХреА рд╡рд░реНрддрдорд╛рди рд╕реНрдерд┐рддрд┐

рдЗрд╕рд╕реЗ рдореИрдВ рдЖрдкрдХреЛ рдмреЗрд╣рддрд░ рд╕рд▓рд╛рд╣ рджреЗ рд╕рдХреВрдВрдЧрд╛ред рдЖрдк рд╣рд┐рдВрджреА рдпрд╛ рдЕрдВрдЧреНрд░реЗрдЬреА рдореЗрдВ рд╕рд╡рд╛рд▓ рдкреВрдЫ рд╕рдХрддреЗ рд╣реИрдВред`;
    } else if (language === 'english') {
      return `I'm here to help you!

Please ask your question in detail:
тАв Crop name
тАв Problem description
тАв Your area
тАв Current crop condition

This will help me give you better advice. You can ask questions in Hindi or English.`;
    } else {
      return `рдореИрдВ рдЖрдкрдХреА рдорджрдж рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдпрд╣рд╛рдВ рд╣реВрдВ! / I'm here to help you!

ЁЯЗоЁЯЗ│ рд╣рд┐рдВрджреА рдореЗрдВ:
рдХреГрдкрдпрд╛ рдЕрдкрдирд╛ рд╕рд╡рд╛рд▓ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рдкреВрдЫреЗрдВ:
тАв рдлрд╕рд▓ рдХрд╛ рдирд╛рдо / Crop name
тАв рд╕рдорд╕реНрдпрд╛ рдХрд╛ рд╡рд┐рд╡рд░рдг / Problem description
тАв рдЖрдкрдХрд╛ рдХреНрд╖реЗрддреНрд░ / Your area
тАв рдлрд╕рд▓ рдХреА рд╡рд░реНрддрдорд╛рди рд╕реНрдерд┐рддрд┐ / Current crop condition

ЁЯЗ║ЁЯЗ╕ In English:
Please ask your question in detail:
тАв Crop name
тАв Problem description
тАв Your area
тАв Current crop condition

рдЗрд╕рд╕реЗ рдореИрдВ рдЖрдкрдХреЛ рдмреЗрд╣рддрд░ рд╕рд▓рд╛рд╣ рджреЗ рд╕рдХреВрдВрдЧрд╛ред рдЖрдк рд╣рд┐рдВрджреА рдпрд╛ рдЕрдВрдЧреНрд░реЗрдЬреА рдореЗрдВ рд╕рд╡рд╛рд▓ рдкреВрдЫ рд╕рдХрддреЗ рд╣реИрдВред
This will help me give you better advice. You can ask questions in Hindi or English.`;
    }
  };

  const handleSendMessage = () => {
    if (!inputMessage.trim()) return;

    const userMessage: Message = {
      id: Date.now().toString(),
      type: 'user',
      content: inputMessage,
      timestamp: new Date().toISOString()
    };

    setMessages(prev => [...prev, userMessage]);
    setInputMessage('');
    setIsTyping(true);

    // Simulate AI response delay
    setTimeout(() => {
      const aiResponse: Message = {
        id: (Date.now() + 1).toString(),
        type: 'ai',
        content: getAIResponse(inputMessage),
        timestamp: new Date().toISOString()
      };
      setMessages(prev => [...prev, aiResponse]);
      setIsTyping(false);
    }, 1500);
  };

  const handleQuickQuestion = (question: string) => {
    setInputMessage(question);
  };

  const getPlaceholderText = () => {
    switch (language) {
      case 'hindi':
        return 'рдЕрдкрдирд╛ рдХреГрд╖рд┐ рдкреНрд░рд╢реНрди рд╣рд┐рдВрджреА рдореЗрдВ рдкреВрдЫреЗрдВ...';
      case 'english':
        return 'Ask your farming question in English...';
      default:
        return 'Ask your farming question in Hindi or English... / рдЕрдкрдирд╛ рдХреГрд╖рд┐ рдкреНрд░рд╢реНрди рд╣рд┐рдВрджреА рдпрд╛ рдЕрдВрдЧреНрд░реЗрдЬреА рдореЗрдВ рдкреВрдЫреЗрдВ...';
    }
  };

  const getHeaderText = () => {
    switch (language) {
      case 'hindi':
        return 'AI рдХреГрд╖рд┐ рд╕рд▓рд╛рд╣рдХрд╛рд░';
      case 'english':
        return 'AI Agriculture Advisor';
      default:
        return 'AI рдХреГрд╖рд┐ рд╕рд▓рд╛рд╣рдХрд╛рд░ / AI Agriculture Advisor';
    }
  };

  const getSubHeaderText = () => {
    switch (language) {
      case 'hindi':
        return '24/7 рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ рдХреГрд╖рд┐ рд╕рд▓рд╛рд╣ рд╣рд┐рдВрджреА рдореЗрдВ';
      case 'english':
        return '24/7 expert farming advice in English';
      default:
        return '24/7 expert farming advice in Hindi and English / 24/7 рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ рдХреГрд╖рд┐ рд╕рд▓рд╛рд╣ рд╣рд┐рдВрджреА рдФрд░ рдЕрдВрдЧреНрд░реЗрдЬреА рдореЗрдВ';
    }
  };

  return (
    <div className="min-h-screen bg-gray-50 py-8">
      <div className="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        {/* Header */}
        <div className="text-center mb-8">
          <div className="flex justify-center mb-4">
            <div className="bg-green-100 p-4 rounded-full">
              <Bot className="h-12 w-12 text-green-600" />
            </div>
          </div>
          <h1 className="text-3xl font-bold text-gray-900 mb-2">{getHeaderText()}</h1>
          <p className="text-gray-600 mb-4">
            {getSubHeaderText()}
          </p>
          
          {/* Language Selector */}
          <div className="flex justify-center mb-6">
            <div className="bg-white rounded-lg shadow-md p-2 flex items-center gap-2">
              <Globe className="h-5 w-5 text-green-600" />
              <span className="text-sm font-medium text-gray-700">Language / рднрд╛рд╖рд╛:</span>
              <div className="flex bg-gray-100 rounded-md">
                <button
                  onClick={() => setLanguage('hindi')}
                  className={`px-3 py-1 text-sm rounded-md transition-colors ${
                    language === 'hindi' 
                      ? 'bg-green-600 text-white' 
                      : 'text-gray-600 hover:bg-gray-200'
                  }`}
                >
                  рд╣рд┐рдВрджреА
                </button>
                <button
                  onClick={() => setLanguage('english')}
                  className={`px-3 py-1 text-sm rounded-md transition-colors ${
                    language === 'english' 
                      ? 'bg-green-600 text-white' 
                      : 'text-gray-600 hover:bg-gray-200'
                  }`}
                >
                  English
                </button>
                <button
                  onClick={() => setLanguage('both')}
                  className={`px-3 py-1 text-sm rounded-md transition-colors ${
                    language === 'both' 
                      ? 'bg-green-600 text-white' 
                      : 'text-gray-600 hover:bg-gray-200'
                  }`}
                >
                  Both
                </button>
              </div>
            </div>
          </div>
        </div>

        {/* Quick Questions */}
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
          {quickQuestions.map((question, index) => (
            <button
              key={index}
              onClick={() => handleQuickQuestion(language === 'hindi' ? question.textHindi : question.text)}
              className="bg-white rounded-lg p-4 shadow-md hover:shadow-lg transition-shadow text-left group"
            >
              <question.icon className="h-8 w-8 text-green-600 mb-3 group-hover:scale-110 transition-transform" />
              {language === 'both' ? (
                <>
                  <p className="text-sm font-medium text-gray-900 mb-1">{question.text}</p>
                  <p className="text-xs text-gray-600">{question.textHindi}</p>
                </>
              ) : (
                <p className="text-sm font-medium text-gray-900">
                  {language === 'hindi' ? question.textHindi : question.text}
                </p>
              )}
            </button>
          ))}
        </div>

        {/* Chat Interface */}
        <div className="bg-white rounded-xl shadow-lg overflow-hidden">
          {/* Messages */}
          <div className="h-96 overflow-y-auto p-6 space-y-4">
            {messages.map((message) => (
              <div
                key={message.id}
                className={`flex items-start space-x-3 ${
                  message.type === 'user' ? 'flex-row-reverse space-x-reverse' : ''
                }`}
              >
                <div className={`flex-shrink-0 ${
                  message.type === 'user' ? 'bg-blue-100' : 'bg-green-100'
                } rounded-full p-2`}>
                  {message.type === 'user' ? (
                    <User className="h-5 w-5 text-blue-600" />
                  ) : (
                    <Bot className="h-5 w-5 text-green-600" />
                  )}
                </div>
                <div className={`flex-1 ${message.type === 'user' ? 'text-right' : ''}`}>
                  <div className={`inline-block p-3 rounded-lg max-w-xs lg:max-w-md ${
                    message.type === 'user'
                      ? 'bg-blue-600 text-white'
                      : 'bg-gray-100 text-gray-900'
                  }`}>
                    <p className="text-sm whitespace-pre-line">{message.content}</p>
                  </div>
                  <p className="text-xs text-gray-500 mt-1">
                    {new Date(message.timestamp).toLocaleTimeString()}
                  </p>
                </div>
              </div>
            ))}
            
            {isTyping && (
              <div className="flex items-start space-x-3">
                <div className="bg-green-100 rounded-full p-2">
                  <Bot className="h-5 w-5 text-green-600" />
                </div>
                <div className="bg-gray-100 rounded-lg p-3">
                  <div className="flex space-x-1">
                    <div className="w-2 h-2 bg-gray-400 rounded-full animate-bounce"></div>
                    <div className="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style={{ animationDelay: '0.1s' }}></div>
                    <div className="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style={{ animationDelay: '0.2s' }}></div>
                  </div>
                </div>
              </div>
            )}
          </div>

          {/* Input */}
          <div className="border-t p-4">
            <div className="flex space-x-4">
              <input
                type="text"
                value={inputMessage}
                onChange={(e) => setInputMessage(e.target.value)}
                onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}
                placeholder={getPlaceholderText()}
                className="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
              />
              <button
                onClick={handleSendMessage}
                disabled={!inputMessage.trim() || isTyping}
                className="bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center"
              >
                <Send className="h-4 w-4" />
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

export default AIAdvisor;